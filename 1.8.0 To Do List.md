# Things to do for v1.8.0

### Library

Complete the rewrite for basic -- but stable -- functionality

  - Track DB
  - 1.7.0 to 1.8.0 XML-\>DB Library importer
  - Searching across library features

<!-- end list -->

``` 
    * <del>Make sure search is case-insensitive everywhere</del>
    * <del>Search is saved and restored per-model</del>
    * Playlist models store the search per-playlist
    * <del>Searches occur in background thread.</del>
* Drag-n-drop across library features
    * Make sure you can drop tracks from any place (browse, external track source, mixxx library) into a Mixxx playlist and the play queue
    * Win/Mac/Linux drag of files from OS file browser into Mixxx?
    * Make explicit the cases in which a file outside the Mixxx library is added to the Mixxx library.
* Context menus across the whole library 
    * Make sure context choices for tracks are appropriate to current state.
    * Menus for sidebar items
* UI Feedback  
    * When a track is missing from the library
    * When a track failed to load
    * When your results are filtered (i.e. a search is active) 
    * When you are about to add a track to your Mixxx library. Make any warnings disable-able via mixxx.cfg.
* Browse Mode
    * <del>Use a file-system model that polls in a background thread</del>
    * <del>Searches and sorting for the filesystem view</del>
    * <del>Always show .. as a choice</del>
    * <del>Always sort folders before files</del>
    * Needs header that shows you your current path
    * Sorting doesn't work in Size column (kb/mb treated as the same)
* Playlists 
    * <del>Playlist table headers show raw column names</del>
    * <del>Playlists need duration delegate</del>
    * <del>Dragging a file thats in a playlist to its own playlist results in many added copies.</del>
    * <del>Drag-and-drop reordering</del>    
* Play Queue 
* Library Rescan
    * <del>Basic fast hashing rescan</del>
    * Modify Library table to make orphan detection easier later (add extra TrackLocations table)
    * Add mixxx_deleted and fs_deleted cols to TrackLocations table
    * Use mixxx_deleted to blacklist files "removed" from the Mixxx library.
* Tagging (not file metadata tagging)
    * <del>DAO for tags</del>
    * <del>Feature for tags</del>
    * <del>Drag-n-drop to sidebar</del>
    * <del>Tag table model</del>
    * <del>Context menu for track table</del>
    * <del>Context menus for tags in sidebar</del>
    * Feature overview page
    * Manage view 
    * Delegate for showing tags in library table
* Track Sources
    * iTunes needs duration delegate
    * Rhythmbox Need Date delegate
    * <del>Sorting doesn't work in XML-sourced Playlists</del>
* Polish
    * Sidebar icons for each feature
    * MIDI-control of Library
    * Tooltips for sidebar items
* Track-table column header context menu to show/hide columns
* **Deferred to 1.9:** Cue/Loop Storage in the DB - (this is really a mini-project in itself) 
    * Tie in with loop/cue manager in Player
    * Update DB to store them
    * Update/add UI widgets for showing the loops / cues
    * Update skins
* Minor Bugs
    * <del>Duration Delegate should format seconds as %02d.</del> 
    * <del>Sorting is not case insensitive (e.g. on Title)</del>
```

### Looping

  - ~~Complete the [looping](looping) feature, merge to trunk.~~
  - Update controller mappings...

### Vinyl control

  - Integrate the latest xwax release code

### MIDI scripting

  - Add MIDI script timers (using QTimer)
  - Pass the \<group\> value from the XML to the script as an additional
    parameter (at the end of the list so existing scripts are not
    affected.)
  - Add a way to pass extra parameters from the MIDI mapping to the
    script function ?

### PortMIDI Branch

  - ~~Move all PortMIDI calls to one thread (the script engines can not
    directly call send\*Msg anymore.) [See
    this.](http://lists.create.ucsb.edu/pipermail/media_api/2005-September/000422.html)~~
  - ~~Save multiple device files correctly, deleting previous .midi.xml
    files in .mixxx/~~ 

<!-- end list -->

``` 
    * Save the meta-data (<del>controller ID</del>, author, description, etc...)
      * First make a GUI object that lets the user modify the author and description
    * <del>Find a more appropriate place to save the files other than the MidiDeviceManager destructor</del> Now done (only) when OK is clicked in the prefs
    * <del>Need a way to keep track of duplicate devices so separate files can be saved: Have DlgPreferences::slotApply() call MidiDeviceManager::saveMappings() which does them all in one shot (and can thereby keep track of them)</del>
* <del>Load those files correctly</del>
    * <del>Load files for attached devices regardless of if they're activated or not.</del>
* Replace MidiCategory with MidiStatusByte permanently (see mididevice.cpp line 195.)
* GUI changes:
    * Replace "Activate" button with an "Enabled" check box
    * Display enabled devices in the tree in bold text
    * Auto-change "Output" drop-down based on auto-selected output device in MidiDevice(Manager) when the device is enabled
    * Make "Output" drop-down take effect when changed
    * Persistent mapping preset drop-down (don't return to "..." unless Clear All is pressed. If the user tweaks the mapping, say "<custom>" or something.)
    * Also clear the list of MIDI scripts when Clear All is pressed
    * Do not commit changes to the MIDI mapping tables unless OK is pressed in the preferences window. (I.e. allow pressing the Cancel button or the X on the preferences window to restore the MIDI mappings to their previous states.)
```

### M4A

  - Solve packaging issues 
  - Solve Windows X64 libfaad2 dll [building
    issues](build_windows_dependencies#libfaad2) (embedded asm vs
    intrinsics)
  - ~~Fix SoundSourceM4A decoder issues~~
